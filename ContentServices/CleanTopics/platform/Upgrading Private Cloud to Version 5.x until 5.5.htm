<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
    <head />
    <body>Upgrading Private Cloud to Version 5.x until 5.5 To migrate data from previous releases of Platform Private Cloud to the latest release, you need to run scripts to update your database sequentially. For example, to update from version 4.3 to version 5.0, you first need to run the script to upgrade to 4.4, 4.5 and then to 5.0. Check the PDF documentation included with each version to determine whether to change code in formulas or external systems that access Platform data through the SOAP or REST APIs. The following steps describe how to upgrade Platform Private Cloud from a prior release to the latest release: Make a copy of your existing Platform config, storage and rollbase\personalize folders. Stop PAS or Tomcat. If you have any custom files, such as FusionCharts, in the webapps folder of your Tomcat instance, copy these to a folder for later use. Stop the database. If you installed using the Platform installer, run uninstall. You can launch it from the Rollbase\uninstall folder. If you were using the OpenEdge database, uninstall will not delete the OpenEdge working directory, which contains your data. If you used your own Tomcat instance, delete the following folders from the webapps folder: master, router, prod1, search, storage, rest, webapi, rss, workflow Install Platform 5.X using the installer or zip files: If you use the installer, consult the configuration files you saved for host, database, and email configuration values. If you were using the OpenEdge Database, point the installer at the working directory that contains your data. If you use the zip files to install, configure Platform as follows: From the config folder, open the node-config.json. Edit the node-config.json file with the shared properties information such as email information: host name and port number, and the email address and password for the main administrative user. In the node-config.json, update the databases related information. See Editing the node-config.json file . Note: In Platform 5.x, in the config folder, the following files will be available as per the new structure: cluster-config.xml,master-cluster-config.xml, node-config.json, prod-cluster-config.xml, jaas.conf and meta-psc-rollbase-idp-test . While upgrading to Platform 5.4, ensure the cluster config XML files (master-cluster-config.xml, prod-cluster-config.xml, and cluster-config.xml) are modified by removing the below section from all the Tomcat machines. &lt;map name="rb-*-cache"&gt;
&lt;backup-count&gt;3&lt;/backup-count&gt;
&lt;/map&gt; Also, ensure the below Set Parameter section is removed from the master-cluster-config.xml. &lt;set name="rb-*-cache"&gt;
&lt;backup-count&gt;3&lt;/backup-count&gt;
&lt;/set&gt; Copy all the files from the backed up config folder to &lt;ROLLBASE_HOME&gt;/config folder. Do not copy paste the entire config folder. Copy the storage folder to the new storage server node. If you saved any custom files from the webapps folder as described in step 3, copy them into the new installation. For example, copy the personalize folder. When upgrading from a previous version to 5.x, remove the following JAR files: encoder-1.2.jar hazelcast-all-3.7.jar pdfbox-2.0.2.jar cos.jar httpclient-4.5.jar httpmime-4.3.jar In the Rollbase\sql folder, find the appropriate script(s) to update your database. Note: If you installed the Progress Application Server for Platform, these files are in the Pas_Instance\Rollbase\sql folder. If you are upgrading from a version other than the previous release, you will need to use multiple scripts, starting with the next version higher than your existing installation and continuing until you reach the current script. Open the sql script(s), and do the following: Uncomment the section for your database type. Verify that the sections for other database types are commented out. Add the following commit statement to the end of the file: COMMIT WORK If you are using a database other than the OpenEdge instance included with the installer, start your database. If you are using the OpenEdge database that comes with the installer, it should be running already. Start the Progress Application Server or Tomcat. After you have upgraded your Private Cloud installation as described in, perform the following steps to re-index customer tenants: Re-indexing Customer Tenants Follow these steps to re-index customer tenants: Log into the master server as an administrator. Navigate to the System Console. From the System tab menu, select Reindex. On the Reindex page, select the appropriate scope: Master zone All customer tenants Selected customer tenants You can select the master zone and all or selected tenants. Infinite Blue strongly recommends re-indexing the master zone and all customers, but re-indexing customer tenants one or a few at a time can minimize performance impact. Confirm that indexing has occurred by doing the following: Navigate to Setup Home. In the Administration section, click Global Text Search. Click View Search Logs.</body>
</html>